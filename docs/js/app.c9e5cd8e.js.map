{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/sections/FileChooserSection/index.js","webpack:///./public/images/swap.svg","webpack:///./src/components/ButtonLight/index.js","webpack:///./src/components/ErrorMessage/index.js","webpack:///./src/sections/KeySelectSection/index.js","webpack:///./src/sections/DownloadSection/index.js","webpack:///./src/components/Preview/index.js","webpack:///./public/images/logo_big.png","webpack:///./src/components/Column/index.js","webpack:///./src/state/Store.js","webpack:///./src/components/Headline/index.js","webpack:///./src/components/Footer/index.js","webpack:///./src/components/Header/index.js","webpack:///./src/pages/App/index.js","webpack:///./src/styles/Global.js","webpack:///./src/index.js","webpack:///./src/styles/theme.js","webpack:///./src/utils/export-utils.js","webpack:///./src/utils/index.js","webpack:///./src/state/Actions.js","webpack:///./src/components/Section/index.js","webpack:///./src/components/Row/index.js","webpack:///./src/utils/import-utils.js","webpack:///./src/components/DataTable/index.js","webpack:///./src/components/Select/index.js","webpack:///./src/state/Selectors.js","webpack:///./src/components/Button/index.js","webpack:///./src/components/Checkbox/index.js","webpack:///./src/components/FileHandler/CopyPasteTarget.js","webpack:///./src/components/FileHandler/index.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","0","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","ButtonWrapper","Styled","div","withConfig","componentId","props","isVisible","renderError","react__WEBPACK_IMPORTED_MODULE_7___default","a","createElement","_components_ErrorMessage__WEBPACK_IMPORTED_MODULE_18__","FileChooserSection","PureComponent","fileType","_this","this","_components_Checkbox__WEBPACK_IMPORTED_MODULE_19__","style","marginTop","checked","concat","onChange","toggleFirstRowHeader","label","_this2","_this$props","baseData","baseFileName","baseDataError","baseFileType","mergeData","mergeFileName","mergeDataError","mergeFileType","hasBaseData","hasMergeData","_components_Section__WEBPACK_IMPORTED_MODULE_14__","step","title","config","sections","subtitle","_components_Row__WEBPACK_IMPORTED_MODULE_16__","_components_Column__WEBPACK_IMPORTED_MODULE_17__","_components_FileHandler__WEBPACK_IMPORTED_MODULE_12__","setBaseData","onError","setError","fileName","dropText","textareaPlaceholder","setMergeData","isActive","textAlign","_components_ButtonLight__WEBPACK_IMPORTED_MODULE_15__","onClick","swapData","_public_images_swap_svg__WEBPACK_IMPORTED_MODULE_10__","height","_components_DataTable__WEBPACK_IMPORTED_MODULE_13__","includes","renderCsvOptions","marginLeft","connect","state","baseFirstRowHeader","mergeFirstRowHeader","Actions","__webpack_exports__","_ref","_ref$styles","styles","obj","keys","target","indexOf","_objectWithoutProperties","react__WEBPACK_IMPORTED_MODULE_2___default","_extends","xmlns","width","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","className","styled_components__WEBPACK_IMPORTED_MODULE_0__","_components_Button__WEBPACK_IMPORTED_MODULE_1__","Button","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","styled_components__WEBPACK_IMPORTED_MODULE_1__","Wrapper","theme","colors","warning","Inner","Title","children","SelectWrapper","section","KeySelectSection","baseKey","mergeKey","resultData","excludeFields","baseKeys","idx","_","columns","mergeKeys","react__WEBPACK_IMPORTED_MODULE_5___default","_components_Section__WEBPACK_IMPORTED_MODULE_11__","_components_Row__WEBPACK_IMPORTED_MODULE_12__","_components_Column__WEBPACK_IMPORTED_MODULE_13__","_components_Select__WEBPACK_IMPORTED_MODULE_10__","options","setBaseKey","placeholder","disabled","setMergeKey","_components_DataTable__WEBPACK_IMPORTED_MODULE_14__","mergedDataSelector","DownloadWrapper","DownloadButton","DownloadButtonWrapper","CheckboxWrapper","DownloadSection","react__WEBPACK_IMPORTED_MODULE_10___default","mergedData","map","columnName","toggleExcludeField","setDownloadFormat","downloadFormat","baseIsGeo","hasData","formats","downloadFormats","filter","_components_Section__WEBPACK_IMPORTED_MODULE_16__","renderCheckboxes","_components_Select__WEBPACK_IMPORTED_MODULE_17__","_components_Preview__WEBPACK_IMPORTED_MODULE_20__","filetype","downloadFile","isBaseDataGeo","PreviewWrapper","TextArea","textarea","fonts","mono","black","Preview","dataAsString","getDownloadFileData","readOnly","Column","defaultProps","Store","createStore","Headline","h1","Bold","span","Subtitle","components_Headline","react_default","react","FooterWrapper","darkBackground","FooterInner","Footer","href","HeaderWrapper","header","Logo","img","Header","src","logoSrc","alt","AppWrapper","App","components_Header","components_Footer","createGlobalStyle","_templateObject","styledNormalize","background","root","document","ReactDOM","render","unistore_react","store","styled_components_browser_esm","interaction","interactionInactive","darkgray","sans","Global","pages_App","body","appendChild","removePropsFromObject","arguments","undefined","reduce","prev","curr","stringifyJSON","JSON","stringify","JSON2GeoJSON","features","properties","geometry","__geometry","id","__id","feature","featureCollection","dataClean","res","cleanData","downloadData","formatGeoJSON","type","geoJSON","topology","formatTopoJSON","formatJSON","csvFormat","formatCsv","dataBlob","Blob","saveAs","import_utils","fileData","_objectSpread","setData","isDelete","_defineProperty","rawData","getState","setTimeout","setState","mergeRawData","baseRawData","fieldName","index","_ref3","isFirstRowHeader","parseCsv","getColumns","Section","SectionTitleWrapper","Step","h2","_ref$isActive","dangerouslySetInnerHTML","__html","Row","guessDelimiter","file","defaultDelimiters","find","delim","rxp","str","replace","regexEscape","RegExp","getDelimiterRxp","test","delimiter","formattedCsv","D3Dsv","parse","parseRows","row","item","e","geoJSON2JSON","feat","assign","_toConsumableArray","Set","col","unifyData","getType","isGeoJSON","isTopoJSON","topoJSON","objectName","objects","TopoJSON","topoJSON2JSON","parseFile","jsonData","parseJSON","TableWrapper","DataTable","accessor","Cell","react__WEBPACK_IMPORTED_MODULE_9___default","react_table__WEBPACK_IMPORTED_MODULE_10__","showPagination","sortable","minRows","noDataText","PropTypes","arrayOf","string","StyledSelect","styled","select","Select","Component","evt","react__WEBPACK_IMPORTED_MODULE_6___default","opt","func","baseDataSelector","mergeDataMapSelector","createSelector","mergeDataMap","addData","button","Checkbox","CheckboxLabel","rest","react__WEBPACK_IMPORTED_MODULE_4___default","Textarea","CopyPasteWrapper","CopyPasteTarget","StyledTabs","Tabs","TabContainer","TabList","Dropzone","ReactDropzone","FileWrapper","CloseIconWrapper","FileName","FileHandler","acceptedFiles","readFile","content","preventDefault","reader","FileReader","onload","readAsText","onDeleteFile","x_default","size","file_default","_this3","esm","accept","onDrop","multiple","renderFile","FileHandler_CopyPasteTarget","onPaste","bool"],"mappings":"aACA,SAAAA,EAAAC,GAQA,IAPA,IAMAC,EAAAC,EANAC,EAAAH,EAAA,GACAI,EAAAJ,EAAA,GACAK,EAAAL,EAAA,GAIAM,EAAA,EAAAC,KACQD,EAAAH,EAAAK,OAAoBF,IAC5BJ,EAAAC,EAAAG,GACAG,EAAAP,IACAK,EAAAG,KAAAD,EAAAP,GAAA,IAEAO,EAAAP,GAAA,EAEA,IAAAD,KAAAG,EACAO,OAAAC,UAAAC,eAAAC,KAAAV,EAAAH,KACAc,EAAAd,GAAAG,EAAAH,IAKA,IAFAe,KAAAhB,GAEAO,EAAAC,QACAD,EAAAU,OAAAV,GAOA,OAHAW,EAAAR,KAAAS,MAAAD,EAAAb,OAGAe,IAEA,SAAAA,IAEA,IADA,IAAAC,EACAf,EAAA,EAAiBA,EAAAY,EAAAV,OAA4BF,IAAA,CAG7C,IAFA,IAAAgB,EAAAJ,EAAAZ,GACAiB,GAAA,EACAC,EAAA,EAAkBA,EAAAF,EAAAd,OAA2BgB,IAAA,CAC7C,IAAAC,EAAAH,EAAAE,GACA,IAAAf,EAAAgB,KAAAF,GAAA,GAEAA,IACAL,EAAAQ,OAAApB,IAAA,GACAe,EAAAM,IAAAC,EAAAN,EAAA,KAGA,OAAAD,EAIA,IAAAQ,KAKApB,GACAqB,EAAA,GAGAZ,KAGA,SAAAS,EAAA1B,GAGA,GAAA4B,EAAA5B,GACA,OAAA4B,EAAA5B,GAAA8B,QAGA,IAAAC,EAAAH,EAAA5B,IACAK,EAAAL,EACAgC,GAAA,EACAF,YAUA,OANAhB,EAAAd,GAAAa,KAAAkB,EAAAD,QAAAC,IAAAD,QAAAJ,GAGAK,EAAAC,GAAA,EAGAD,EAAAD,QAKAJ,EAAAO,EAAAnB,EAGAY,EAAAQ,EAAAN,EAGAF,EAAAS,EAAA,SAAAL,EAAAM,EAAAC,GACAX,EAAAY,EAAAR,EAAAM,IACA1B,OAAA6B,eAAAT,EAAAM,GAA0CI,YAAA,EAAAC,IAAAJ,KAK1CX,EAAAgB,EAAA,SAAAZ,GACA,oBAAAa,eAAAC,aACAlC,OAAA6B,eAAAT,EAAAa,OAAAC,aAAwDC,MAAA,WAExDnC,OAAA6B,eAAAT,EAAA,cAAiDe,OAAA,KAQjDnB,EAAAoB,EAAA,SAAAD,EAAAE,GAEA,GADA,EAAAA,IAAAF,EAAAnB,EAAAmB,IACA,EAAAE,EAAA,OAAAF,EACA,KAAAE,GAAA,iBAAAF,QAAAG,WAAA,OAAAH,EACA,IAAAI,EAAAvC,OAAAwC,OAAA,MAGA,GAFAxB,EAAAgB,EAAAO,GACAvC,OAAA6B,eAAAU,EAAA,WAAyCT,YAAA,EAAAK,UACzC,EAAAE,GAAA,iBAAAF,EAAA,QAAAM,KAAAN,EAAAnB,EAAAS,EAAAc,EAAAE,EAAA,SAAAA,GAAgH,OAAAN,EAAAM,IAAqBC,KAAA,KAAAD,IACrI,OAAAF,GAIAvB,EAAA2B,EAAA,SAAAtB,GACA,IAAAM,EAAAN,KAAAiB,WACA,WAA2B,OAAAjB,EAAA,SAC3B,WAAiC,OAAAA,GAEjC,OADAL,EAAAS,EAAAE,EAAA,IAAAA,GACAA,GAIAX,EAAAY,EAAA,SAAAgB,EAAAC,GAAsD,OAAA7C,OAAAC,UAAAC,eAAAC,KAAAyC,EAAAC,IAGtD7B,EAAA8B,EAAA,GAEA,IAAAC,EAAAC,OAAA,aAAAA,OAAA,iBACAC,EAAAF,EAAAhD,KAAA2C,KAAAK,GACAA,EAAAhD,KAAAX,EACA2D,IAAAG,QACA,QAAAvD,EAAA,EAAgBA,EAAAoD,EAAAlD,OAAuBF,IAAAP,EAAA2D,EAAApD,IACvC,IAAAU,EAAA4C,EAIA1C,EAAAR,MAAA,QAEAU,y/BCvIA,IAAM0C,EAAgBC,UAAOC,IAAVC,YAAAC,YAAA,YAAGH,EAAH,4CACN,SAAAI,GAAK,OAAKA,EAAMC,UAAY,QAAU,SAUnD,SAASC,IACP,OACEC,EAAAC,EAAAC,cAACC,EAAA,EAAD,+EAMEC,sZAA2BC,6GACdC,GAAU,IAAAC,EAAAC,KACzB,OACER,EAAAC,EAAAC,cAACO,EAAA,GACCC,OAASC,UAAW,OACpBC,QAASJ,KAAKX,MAAL,GAAAgB,OAAcP,EAAd,mBACTQ,SAAU,kBAAMP,EAAKV,MAAMkB,qBAAqBT,IAChDU,MAAM,yDAKH,IAAAC,EAAAT,KAAAU,EAIHV,KAAKX,MAFPsB,EAFKD,EAELC,SAAUC,EAFLF,EAEKE,aAAcC,EAFnBH,EAEmBG,cAAeC,EAFlCJ,EAEkCI,aACvCC,EAHKL,EAGLK,UAAWC,EAHNN,EAGMM,cAAeC,EAHrBP,EAGqBO,eAAgBC,EAHrCR,EAGqCQ,cAEtCC,IAAgBR,EAASjF,OACzB0F,IAAiBL,EAAUrF,OAEjC,OACE8D,EAAAC,EAAAC,cAAC2B,EAAA,GACCC,KAhCK,EAiCLC,MAAOC,EAAOC,SAjCT,GAiCwBF,MAC7BG,SAAUF,EAAOC,SAlCZ,GAkC2BC,UAEhClC,EAAAC,EAAAC,cAACiC,EAAA,EAAD,KACEnC,EAAAC,EAAAC,cAACkC,EAAA,EAAD,KACEpC,EAAAC,EAAAC,cAACmC,EAAA,GACCvB,SAAUN,KAAKX,MAAMyC,YACrBC,QAAS,kBAAMtB,EAAKpB,MAAM2C,SAAS,SACnCC,SAAUrB,EACVsB,SAAS,sBACTC,oBAAoB,6BAErBtB,GAAiBtB,KAEpBC,EAAAC,EAAAC,cAACkC,EAAA,EAAD,KACEpC,EAAAC,EAAAC,cAACmC,EAAA,GACCvB,SAAUN,KAAKX,MAAM+C,aACrBL,QAAS,kBAAMtB,EAAKpB,MAAM2C,SAAS,UACnCC,SAAUjB,EACVkB,SAAS,uBACTC,oBAAoB,4BACpBE,SAAUlB,IAEXF,GAAkB1B,MAIvBC,EAAAC,EAAAC,cAACiC,EAAA,EAAD,KACEnC,EAAAC,EAAAC,cAACkC,EAAA,GAAO1B,OAASoC,UAAW,WAA5B,UAGA9C,EAAAC,EAAAC,cAACV,GAAcM,UAAY6B,GAAeC,GACxC5B,EAAAC,EAAAC,cAAC6C,EAAA,GAAYC,QAASxC,KAAKX,MAAMoD,UAC/BjD,EAAAC,EAAAC,cAACgD,EAAA,GAASC,OAAQ,OAGtBnD,EAAAC,EAAAC,cAACkC,EAAA,GAAO1B,OAASoC,UAAW,WAA5B,WAKF9C,EAAAC,EAAAC,cAACiC,EAAA,GAAIrC,UAAY6B,GAAeC,GAC9B5B,EAAAC,EAAAC,cAACkC,EAAA,GAAOtC,UAAW6B,GACjB3B,EAAAC,EAAAC,cAACkD,EAAA,GAAU1H,KAAM8E,KAAKX,MAAMsB,WAC3BG,EAAa+B,SAAS,QAAU7C,KAAK8C,iBAAiB,SAEzDtD,EAAAC,EAAAC,cAACkC,EAAA,GAAOtC,UAAW8B,EAAclB,OAAS6C,WAAY,SACpDvD,EAAAC,EAAAC,cAACkD,EAAA,GAAU1H,KAAM8E,KAAKX,MAAM0B,YAC3BG,EAAc2B,SAAS,QAAU7C,KAAK8C,iBAAiB,qBAQrDE,sBAAQ,SAAAC,GAAK,OAC1BtC,SAAUsC,EAAMtC,SAChBC,aAAcqC,EAAMrC,aACpBE,aAAcmC,EAAMnC,aACpBD,cAAeoC,EAAMpC,cACrBqC,mBAAoBD,EAAMC,mBAC1BnC,UAAWkC,EAAMlC,UACjBC,cAAeiC,EAAMjC,cACrBC,eAAgBgC,EAAMhC,eACtBC,cAAe+B,EAAM/B,cACrBiC,oBAAqBF,EAAME,sBACzBC,IAXWJ,CAWFpD,uSCzHGyD,EAAA,WAACC,GAAS,IAAAC,EAGpBD,EADFE,cAFsB,IAAAD,OAIpBlE,EAPN,SAAkCoE,EAAKC,GAAQ,IAAIC,KAAa,IAAK,IAAInI,KAAKiI,EAAWC,EAAKE,QAAQpI,IAAM,GAAkBK,OAAOC,UAAUC,eAAeC,KAAKyH,EAAKjI,KAAcmI,EAAOnI,GAAKiI,EAAIjI,IAAM,OAAOmI,EAOrME,CAAyBP,GAAO,WAE5C,OAAOQ,EAAArE,EAAAC,cAAA,MAAAqE,GAAKC,MAAM,6BAA6BC,MAAM,KAAKtB,OAAO,KAAKuB,QAAQ,YAAYC,KAAK,OAAOC,OAAO,eAAeC,YAAY,IAAIC,cAAc,QAAQC,eAAe,QAAQC,WAAYhB,EAAM,SAAe,WAAa,KAAOA,EAAO,mBAAqB,mBAAuBnE,GAAOyE,EAAArE,EAAAC,cAAA,QAAMpC,EAAE,kBAAkBwG,EAAArE,EAAAC,cAAA,QAAMpC,EAAE,2CAA2CwG,EAAArE,EAAAC,cAAA,QAAMpC,EAAE,iECT/X,IAAAmH,EAAA5H,EAAA,GAAA6H,EAAA7H,EAAA,IAGeoC,sBAAO0F,KAAtBxF,YAAAC,YAAA,YAAeH,EAAf,wDCHA,IAAA2F,EAAA/H,EAAA,GAAAgI,EAAAhI,EAAA2B,EAAAoG,GAAAE,EAAAjI,EAAA,GAGMkI,EAAU9F,UAAOC,IAAVC,YAAAC,YAAA,gBAAGH,EAAH,yFACG,SAAAI,GAAK,OAAIA,EAAM2F,MAAMC,OAAOC,UAQtCC,EAAQlG,UAAOC,IAAVC,YAAAC,YAAA,gBAAGH,EAAH,sBAILmG,EAAQnG,UAAOC,IAAVC,YAAAC,YAAA,gBAAGH,EAAH,uCAKIoE,EAAA,WAAAhE,GAAK,OAClBwF,EAAApF,EAAAC,cAACqF,EAAD,KACEF,EAAApF,EAAAC,cAACyF,EAAD,KACEN,EAAApF,EAAAC,cAAC0F,EAAD,0BACC/F,EAAMgG,0+BCZb,IAAMC,EAAgBrG,UAAOC,IAAVC,YAAAC,YAAA,gBAAGH,EAAH,oEAGH,SAAAI,GAAK,OAAIA,EAAM2F,MAAMC,OAAOM,UAMtCC,sZAAyB3F,qGACpB,IAAAa,EAIHV,KAAKX,MAFPsB,EAFKD,EAELC,SAAUI,EAFLL,EAEKK,UAAW0E,EAFhB/E,EAEgB+E,QAASC,EAFzBhF,EAEyBgF,SAC9BC,EAHKjF,EAGLiF,WAAYC,EAHPlF,EAGOkF,cAERC,EAAWC,IAAInF,EAAU,SAAAoF,GAAC,OAAIA,EAAEC,cAChCC,EAAYH,IAAI/E,EAAW,SAAAgF,GAAC,OAAIA,EAAEC,cAClC3D,EAAW1B,EAASjF,OAAS,EAEnC,OACEwK,EAAAzG,EAAAC,cAACyG,EAAA,GACC7E,KAdK,EAeLC,MAAOC,EAAOC,SAfT,GAewBF,MAC7BG,SAAUF,EAAOC,SAhBZ,GAgB2BC,SAChCW,SAAUA,GAEV6D,EAAAzG,EAAAC,cAAC0G,EAAA,EAAD,KACEF,EAAAzG,EAAAC,cAAC2G,EAAA,EAAD,KACEH,EAAAzG,EAAAC,cAAC4F,EAAD,KACEY,EAAAzG,EAAAC,cAAC4G,EAAA,GACCC,QAASV,EACTvF,SAAUN,KAAKX,MAAMmH,WACrBC,YAAY,gBACZC,UAAWrE,EACXrE,MAAOyH,GAAW,cAIxBS,EAAAzG,EAAAC,cAAC2G,EAAA,EAAD,KACEH,EAAAzG,EAAAC,cAAC4F,EAAD,KACEY,EAAAzG,EAAAC,cAAC4G,EAAA,GACCC,QAASN,EACT3F,SAAUN,KAAKX,MAAMsH,YACrBF,YAAY,gBACZC,SAA+B,IAArB3F,EAAUrF,OACpBsC,MAAO0H,GAAY,eAK1BrD,GAAY6D,EAAAzG,EAAAC,cAACkH,EAAA,GAAU1L,KAAMyK,EAAYC,cAAeA,cAMlD5C,sBAAQ,SAAAC,GAAK,OAC1BtC,SAAUsC,EAAMtC,SAChBI,UAAWkC,EAAMlC,UACjB0E,QAASxC,EAAMwC,QACfC,SAAUzC,EAAMyC,SAChBC,WAAYkB,YAAmB5D,GAC/B2C,cAAe3C,EAAM2C,gBACnBxC,IAPWJ,CAOFwC,0gCC7Db,IAAMsB,EAAkB7H,UAAOC,IAAVC,YAAAC,YAAA,gBAAGH,EAAH,wCAKf8H,EAAiB9H,kBAAO0F,KAAVxF,YAAAC,YAAA,gBAAGH,EAAH,iBAId+H,EAAwB/H,UAAOC,IAAVC,YAAAC,YAAA,gBAAGH,EAAH,gDACX,SAAAI,GAAK,OAAIA,EAAM2F,MAAMC,OAAOM,UAKtC0B,EAAkBhI,UAAOC,IAAVC,YAAAC,YAAA,gBAAGH,EAAH,+EACL,SAAAI,GAAK,OAAIA,EAAM2F,MAAMC,OAAOM,UAStC2B,sZAAwBrH,+GACT,IAAAE,EAAAC,KACjB,OACEmH,EAAA1H,EAAAC,cAACuH,EAAD,KACGjH,KAAKX,MAAM+H,WAAWpB,QAAQqB,IAAI,SAAAC,GAAU,OAC3CH,EAAA1H,EAAAC,cAACO,EAAA,GACC3B,IAAG,gBAAA+B,OAAkBiH,GACrBlH,SAA2D,IAAlDL,EAAKV,MAAMuG,cAAchC,QAAQ0D,GAC1ChH,SAAU,kBAAMP,EAAKV,MAAMkI,mBAAmBD,IAC9C9G,MAAO8G,wCAOR,IAAA5G,EAQHV,KAAKX,MANPsB,EAFKD,EAELC,SACA6G,EAHK9G,EAGL8G,kBACAJ,EAJK1G,EAIL0G,WACAK,EALK/G,EAKL+G,eACA7B,EANKlF,EAMLkF,cACA8B,EAPKhH,EAOLgH,UAGIC,IAAY3H,KAAKX,MAAM+H,WAAW1L,OAClC2G,EAAW1B,EAASjF,OAAS,EAC7BkM,EAAUF,EACdlG,EAAOqG,gBACPrG,EAAOqG,gBAAgBC,OAAO,SAAAxK,GAAC,QAAM,UAAW,YAAYuF,SAASvF,KAEvE,OACE6J,EAAA1H,EAAAC,cAACqI,EAAA,GACCzG,KApCK,EAqCLC,MAAOC,EAAOC,SArCT,GAqCwBF,MAC7BG,SAAUF,EAAOC,SAtCZ,GAsC2BC,SAChCW,SAAUA,GAETsF,EAAU3H,KAAKgI,mBAAqB,KACrCb,EAAA1H,EAAAC,cAACoH,EAAD,KACEK,EAAA1H,EAAAC,cAACuI,EAAA,GACC1B,QAAUlE,EAAgBuF,KAC1BnB,YAAY,mBACZnG,SAAUkH,EACVd,UAAWrE,EACXrE,MAAOyJ,GAAkB,YAE3BN,EAAA1H,EAAAC,cAACwI,EAAA,GACChN,KAAMkM,EACN/E,SAAUA,EACV8F,SAAUV,EACV7B,cAAeA,IAEjBuB,EAAA1H,EAAAC,cAACsH,EAAD,KACEG,EAAA1H,EAAAC,cAACqH,GACCL,UAAWU,IAAeA,EAAW1L,OACrC8G,QAAS,kBAAM4F,YAAahB,EAAYK,EAAgB7B,KAF1D,wBAaG5C,sBAAQ,SAAAC,GAAK,OAC1BtC,SAAUsC,EAAMtC,SAChByG,WAAYP,YAAmB5D,GAC/BwE,eAAgBxE,EAAMwE,eACtB7B,cAAe3C,EAAM2C,cACrB8B,UAAWW,YAAcpF,KACvBG,IANWJ,CAMFkE,85BC7Gb,IAAMoB,EAAiBrJ,UAAOC,IAAVC,YAAAC,YAAA,gBAAGH,EAAH,oBAIdsJ,EAAWtJ,UAAOuJ,SAAVrJ,YAAAC,YAAA,gBAAGH,EAAH,2HACQ,SAAAI,GAAK,OAAIA,EAAM2F,MAAMC,OAAOM,SAMjC,SAAAlG,GAAK,OAAIA,EAAM2F,MAAMyD,MAAMC,MACjC,SAAArJ,GAAK,OAAIA,EAAM2F,MAAMC,OAAO0D,QAGjCC,sZAAgB/I,qGAElB,IAAKG,KAAKX,MAAMgD,SACd,OAAO,KAFF,IAAA3B,EAKmCV,KAAKX,MAAvCnE,EALDwF,EAKCxF,KAAMiN,EALPzH,EAKOyH,SAAUvC,EALjBlF,EAKiBkF,cAClBiD,EAAeC,YAAoB5N,EAAMiN,EAAUvC,GAEzD,OACEM,EAAAzG,EAAAC,cAAC4I,EAAD,KACEpC,EAAAzG,EAAAC,cAAC6I,GAASvK,MAAO6K,EAAa3N,KAAM6N,UAAQ,cAMrCH,2BCrCf1L,EAAAD,QAAiBJ,EAAA8B,EAAuB,8DCAxC,IAEMqK,EAFNnM,EAAA,GAEeoC,QAAOC,IAAVC,YAAAC,YAAA,YAAGH,EAAH,0BACC,SAAAI,GAAK,OAAKA,EAAMC,UAAY,QAAU,SAInD0J,EAAOC,cACL3J,WAAW,GAGE0J,4GCMAE,EAfDC,aACZxI,YACAI,aACA0E,QAAS,KACTC,SAAU,KACV7E,cAAe,KACfI,eAAgB,KAChBH,aAAc,GACdI,cAAe,GACfgC,oBAAoB,EACpBC,qBAAqB,EACrBsE,eAAgB,KAChB7B,mBCXIwD,+BAAWnK,UAAOC,IAAVC,YAAAC,YAAA,YAAGH,EAAH,2CAMRmG,EAAQnG,UAAOoK,GAAVlK,YAAAC,YAAA,YAAGH,EAAH,6CAMLqK,EAAOrK,UAAOsK,KAAVpK,YAAAC,YAAA,YAAGH,EAAH,qBAIJuK,EAAWvK,UAAOC,IAAVC,YAAAC,YAAA,YAAGH,EAAH,yCAEG,SAAAI,GAAK,OAAIA,EAAM2F,MAAMyD,MAAMC,OAG7Be,EAAA,kBACbC,EAAAjK,EAAAC,cAACiK,EAAA,SAAD,KACED,EAAAjK,EAAAC,cAAC0J,EAAD,KACEM,EAAAjK,EAAAC,cAAC0F,EAAD,cAAasE,EAAAjK,EAAAC,cAAC4J,EAAD,oBACbI,EAAAjK,EAAAC,cAAC8J,EAAD,g3BCzBN,IAAMI,EAAgB3K,UAAOC,IAAVC,YAAAC,YAAA,gBAAGH,EAAH,8CACH,SAAAI,GAAK,OAAIA,EAAM2F,MAAMC,OAAO4E,iBAKtCC,EAAc7K,UAAOC,IAAVC,YAAAC,YAAA,gBAAGH,EAAH,yHA2BF8K,sZAZMlK,qGAEjB,OACE6J,EAAAjK,EAAAC,cAACkK,EAAD,KACEF,EAAAjK,EAAAC,cAACoK,EAAD,KACEJ,EAAAjK,EAAAC,cAAA,KAAGsK,KAAK,sCAAR,y1BCxBV,IAAMC,EAAgBhL,UAAOiL,OAAV/K,YAAAC,YAAA,gBAAGH,EAAH,sBAIbkL,EAAOlL,UAAOmL,IAAVjL,YAAAC,YAAA,gBAAGH,EAAH,qBAgBKoL,sZAZMxK,qGAEjB,OACE6J,EAAAjK,EAAAC,cAACuK,EAAD,KACEP,EAAAjK,EAAAC,cAAA,KAAGsK,KAAK,uCACNN,EAAAjK,EAAAC,cAACyK,GAAKG,IAAKC,IAASC,IAAI,i0BCRlC,IAAMC,EAAaxL,UAAOC,IAAVC,YAAAC,YAAA,YAAGH,EAAH,qDAuBDyL,sZAjBG7K,qGAEd,OACE6J,EAAAjK,EAAAC,cAACiK,EAAA,SAAD,KACED,EAAAjK,EAAAC,cAACiL,EAAD,MACAjB,EAAAjK,EAAAC,cAAC+K,EAAD,KACEf,EAAAjK,EAAAC,cAAC+J,EAAD,MACAC,EAAAjK,EAAAC,cAACE,EAAA,EAAD,MACA8J,EAAAjK,EAAAC,cAAC8F,EAAA,EAAD,MACAkE,EAAAjK,EAAAC,cAACwH,EAAA,EAAD,OAEFwC,EAAAjK,EAAAC,cAACkL,EAAD,sgBCxBOC,kCAAfC,IAGIC,IAWc,SAAA1L,GAAK,OAAIA,EAAM2F,MAAMC,OAAO+F,YACjC,SAAA3L,GAAK,OAAIA,EAAM2F,MAAMC,OAAO4E,iBCRnCoB,EAAOC,SAASxL,cAAc,OAEpCyL,IAASC,OACP1B,EAAAjK,EAAAC,cAAC2L,EAAA,UAASC,MAAOpC,GACfQ,EAAAjK,EAAAC,cAAC6L,EAAA,eAAcvG,OCbjBC,QACE0D,MAAO,OAEPqC,WAAY,UAEZzF,QAAS,UAETiG,YAAa,UACbC,oBAAqB,OACrBC,SAAU,OACV7B,eAAgB,UAChB3E,QAAS,WAEXuD,OACEkD,KAAM,qBACNjD,KAAM,4BDDJgB,EAAAjK,EAAAC,cAACiK,EAAA,SAAD,KACED,EAAAjK,EAAAC,cAACkM,EAAD,MACAlC,EAAAjK,EAAAC,cAACmM,EAAD,SAINZ,GAGFC,SAASY,KAAKC,YAAYd,+HEnBnB,SAASe,EAAsBvI,GAAiB,IAAZpE,EAAY4M,UAAAvQ,OAAA,QAAAwQ,IAAAD,UAAA,GAAAA,UAAA,MACrD,OAAOpQ,OAAO6H,KAAKD,GAAK0I,OAAO,SAACC,EAAMC,GAKpC,OAJ6B,IAAzBhN,EAAMuE,QAAQyI,KAChBD,EAAKC,GAAQ5I,EAAI4I,IAGZD,OAIJ,SAASE,EAAcpR,GAC5B,OAAOqR,KAAKC,UAAUtR,GAQjB,SAASuR,EAAavR,GAC3B,IAAMwR,EAAWxR,EAAKmM,IAAI,SAACsF,GACzB,IAAMC,EAAWD,EAAWE,WACtBtG,GAAYuG,GAAIH,EAAWI,MAC3B1N,EAAQ2M,EAAsBW,GAAa,aAAc,SAE/D,OAAOK,kBAAQJ,EAAUvN,EAAOkH,KAGlC,OAAO0G,4BAAkBP,GA6BpB,SAAS5D,EAAoB5N,EAAMiN,GAA8B,IAChE+E,EAXD,SAAmBhS,GAAoB,IAAdqL,EAAc0F,UAAAvQ,OAAA,QAAAwQ,IAAAD,UAAA,GAAAA,UAAA,MACxCkB,EAAMjS,EAMV,OAJIqL,EAAQX,gBACVuH,EAAMA,EAAI9F,IAAI,SAAA/J,GAAC,OAAI0O,EAAsB1O,EAAGiJ,EAAQX,kBAG/CuH,EAIWC,CAAUlS,GAC1B0K,cAFoEqG,UAAAvQ,OAAA,QAAAwQ,IAAAD,UAAA,GAAAA,UAAA,QAKlEoB,EAAe,KAkCnB,MAhCiB,YAAblF,IACFkF,GACEnS,KAnCC,SAAuBA,GAE5B,OAAOoR,EADSG,EAAavR,IAkCnBoS,CAAcJ,GACpBK,KAAM,0BACNhQ,KAAM,mBAIO,aAAb4K,IACFkF,GACEnS,KAtCC,SAAwBA,GAC7B,IAAMsS,EAAUf,EAAavR,GAE7B,OAAOoR,EADUmB,aAAWvS,KAAMsS,KAoCxBE,CAAeR,GACrBK,KAAM,0BACNhQ,KAAM,qBAIO,SAAb4K,IACFkF,GACEnS,KApEC,SAAoBA,GAEzB,OAAOoR,EADKpR,EAAKmM,IAAI,SAAA/J,GAAC,OAAI0O,EAAsB1O,GAAI,aAAc,YAmExDqQ,CAAWT,GACjBK,KAAM,0BACNhQ,KAAM,gBAIO,QAAb4K,IACFkF,GACEnS,KAhDC,SAAmBA,GACxB,IAAMiS,EAAMjS,EAAKmM,IAAI,SAAA/J,GAAC,OAAI0O,EAAsB1O,GAAI,aAAc,WAClE,OAAOsQ,YAAUT,GA8CPU,CAAUX,GAChBK,KAAM,yBACNhQ,KAAM,eAIH8P,EAGF,SAASjF,EAAalN,EAAMiN,GAA8B,IACzDkF,EAAevE,EAAoB5N,EAAMiN,EADgB8D,UAAAvQ,OAAA,QAAAwQ,IAAAD,UAAA,GAAAA,UAAA,OAG/D,GAAIoB,EAAc,CAChB,IAAMS,EAAW,IAAIC,MAAMV,EAAanS,OAASqS,KAAMF,EAAaE,OACpES,iBAAOF,EAAUT,EAAa9P,OC7GlCV,EAAAS,EAAA+F,EAAA,sBAAA4K,EAAA,IAAApR,EAAAS,EAAA+F,EAAA,sBAAA4K,EAAA,IAAApR,EAAAS,EAAA+F,EAAA,sBAAAyF,IAAAjM,EAAAS,EAAA+F,EAAA,sBAAA+E,kNCGA,IAAMtG,EAAc,SAAAwJ,GAAK,OAAI,SAACrI,EAAOiL,GAInC,yUAAAC,IAHaC,EAAQ,OAAQ9C,EAAO4C,IAKlCzG,eAJ4B,OAAbyG,EAIY,KAAOA,EAAShT,KAAKqS,SAW9Ca,EAAU,SAAC9P,EAAKgN,EAAO4C,GAAa,IAAA5K,EAClC+K,EAAwB,OAAbH,EAGjB,OAFiBG,GAAYH,EAAShT,MAAQgT,EAAShT,KAAKqS,MAE3Cc,GAIjBC,EAAAhL,KAAA,GAAAjD,OACM/B,EADN,WACqB+P,KAAgBH,EAASK,SAD9CD,EAAAhL,EAAA,GAAAjD,OAEM/B,EAFN,QAEkB+P,KAAgBH,EAAShT,MAF3CoT,EAAAhL,EAAA,GAAAjD,OAGM/B,EAHN,OAGiB+P,EAAW,GAAKH,EAAShT,KAAK8K,QAAQ,IAHvDsI,EAAAhL,EAAA,GAAAjD,OAIM/B,EAJN,YAIsB+P,EAAW,GAAKH,EAASjM,UAJ/CqM,EAAAhL,EAAA,GAAAjD,OAKM/B,EALN,YAKsB+P,EAAW,GAAKH,EAASX,MAL/CjK,GAHStB,EAASsJ,EAATtJ,CAAgBsJ,EAAMkD,WAAYlQ,IAYvC0D,EAAW,SAAAsJ,GAAK,OAAI,SAACrI,EAAO3E,GAKhC,OAJAO,OAAO4P,WAAW,WAChBnD,EAAMoD,SAANJ,KAAA,GAAAjO,OAAqB/B,EAArB,aAAsC,QACrC,MAEHgQ,KAAA,GAAAjO,OACM/B,EADN,cACuB,KAInBkI,EAAa,SAACvD,EAAO3E,GACzB,OAASmH,QAASnH,IAGdqI,EAAc,SAAC1D,EAAO3E,GAC1B,OAASoH,SAAUpH,IAGfkJ,EAAoB,SAACvE,EAAOwE,GAChC,OAASA,mBAGLhF,EAAW,SAACQ,GAChB,OACElC,UAAWkC,EAAMtC,SACjBA,SAAUsC,EAAMlC,UAChB4N,aAAc1L,EAAM2L,YACpBA,YAAa3L,EAAM0L,aACnBjJ,SAAUzC,EAAMwC,QAChBA,QAASxC,EAAMyC,SACf1E,cAAeiC,EAAMrC,aACrBA,aAAcqC,EAAMjC,cACpBE,cAAe+B,EAAMnC,aACrBA,aAAcmC,EAAM/B,gBAIlBqG,EAAqB,SAACtE,EAAO4L,GACjC,IAAMC,EAAQ7L,EAAM2C,cAAchC,QAAQiL,GAE1C,OAAe,IAAXC,GAEAlJ,cAAe3C,EAAM2C,cAAcvF,QAAQwO,MAI7CjJ,cAAe3C,EAAM2C,cAAckC,OAAO,SAACxK,EAAG9B,GAAJ,OAAUA,IAAMsT,MAIxDvO,EAAuB,SAAC0C,EAAOnD,GAAa,IAAAiP,EAC1CC,GAAoB/L,EAAK,GAAA5C,OAAIP,EAAJ,mBACzB5E,EAAO+T,YAAShM,EAAK,GAAA5C,OAAIP,EAAJ,YAAwBkP,GAInD,OAFA9T,EAAK8K,QAAUkJ,YAAWhU,GAE1BoT,EAAAS,KAAA,GAAA1O,OACMP,EADN,QACuB5E,GADvBoT,EAAAS,EAAA,GAAA1O,OAEMP,EAFN,kBAEiCkP,GAFjCD,GAMa1L,EAAA,WAAAiI,GAAK,OAClBxJ,YAAaA,EAAYwJ,GACzBlJ,aAxFmB,SAAAkJ,GAAK,OAAI,SAACrI,EAAOiL,GAGpC,OAFaE,EAAQ,QAAS9C,EAAO4C,IAuFvB9L,CAAakJ,GAC3BtJ,SAAUA,EAASsJ,GACnB9E,aACAG,cACAa,oBACA/E,WACA8E,qBACAhH,0DC5GF,IAAAqE,EAAA/H,EAAA,GAAAgI,EAAAhI,EAAA2B,EAAAoG,GAAAE,EAAAjI,EAAA,GAGMsS,EAAUlQ,UAAOC,IAAVC,YAAAC,YAAA,YAAGH,EAAH,iEAGa,SAAAI,GAAK,OAAKA,EAAMgD,SAAWhD,EAAM2F,MAAMC,OAAO4E,eAAiBxK,EAAM2F,MAAMC,OAAOwG,sBAGtG2D,EAAsBnQ,UAAOC,IAAVC,YAAAC,YAAA,YAAGH,EAAH,mEAIZ,SAAAI,GAAK,OAAKA,EAAMgD,SAAW,EAAI,KAGtCgN,EAAOpQ,UAAOC,IAAVC,YAAAC,YAAA,YAAGH,EAAH,mKACM,SAAAI,GAAK,OAAKA,EAAMgD,SAAWhD,EAAM2F,MAAMC,OAAOuG,YAAcnM,EAAM2F,MAAMC,OAAOwG,sBAYzFrG,EAAQnG,UAAOqQ,GAAVnQ,YAAAC,YAAA,YAAGH,EAAH,6BAKLuK,EAAWvK,UAAOC,IAAVC,YAAAC,YAAA,YAAGH,EAAH,+DAEH,SAAAI,GAAK,OAAKA,EAAMgD,SAAWhD,EAAM2F,MAAMC,OAAO0D,MAAQtJ,EAAM2F,MAAMC,OAAOyG,WAKrErI,EAAA,WAAAC,GAAA,IACb/B,EADa+B,EACb/B,MAAOG,EADM4B,EACN5B,SAAUJ,EADJgC,EACIhC,KAAM+D,EADV/B,EACU+B,SADVkK,EAAAjM,EACoBjB,gBADpB,IAAAkN,KAAA,OAGb1K,EAAApF,EAAAC,cAACyP,GAAQ9M,SAAUA,GACjBwC,EAAApF,EAAAC,cAAC0P,GAAoB/M,SAAUA,GAC7BwC,EAAApF,EAAAC,cAAC2P,GAAKhN,SAAUA,GAAWf,EAAO,GAClCuD,EAAApF,EAAAC,cAAC0F,GAAM/C,SAAUA,GAAWd,IAE9BsD,EAAApF,EAAAC,cAAC8J,GAASnH,SAAUA,EAAUmN,yBAA2BC,OAAQ/N,KAChE2D,qCClDL,IAEMqK,EAFN7S,EAAA,GAEYoC,QAAOC,IAAVC,YAAAC,YAAA,YAAGH,EAAH,6DACI,SAAAI,GAAK,OAAKA,EAAMC,UAAY,OAAS,SAKlDoQ,EAAIzG,cACF3J,WAAW,GAGEoQ,mwBCCR,SAASC,EAAeC,GAC7B,OAAOpO,EAAOqO,kBAAkBC,KAAK,SAACC,GAEpC,OARJ,SAAyBA,GACvB,IAAMC,EAAG,cAAA3P,OALX,SAAqB4P,GACnB,OAAOA,EAAIC,QAAQ,2BAA4B,QAIrBC,CAAYJ,IACtC,OAAO,IAAIK,OAAOJ,GAKJK,CAAgBN,GACjBO,KAAKV,MACZ,IAGD,SAASX,EAASW,GAA+B,IAAzBZ,IAAyB/C,UAAAvQ,OAAA,QAAAwQ,IAAAD,UAAA,KAAAA,UAAA,GAClDkB,GAAM,EAEV,IACE,IAAMoD,EAAYZ,EAAeC,GAC3BY,EAAeC,IAAgBF,GAGnCpD,EADE6B,EACIwB,EAAaE,MAAMd,GAEnBY,EAAaG,UAAUf,EAAM,SAAAtS,GAAC,OAAIA,EAAE6O,OAAO,SAACyE,EAAKC,EAAMrV,GAE3D,OADAoV,EAAG,UAAAvQ,OAAW7E,EAAI,IAAOqV,EAClBD,SAGX,MAAOE,GACP3D,GAAM,EAER,OAAOA,EAwBF,SAAS4D,EAAavD,GAC3B,OAAOA,EAAQd,SAASrF,IAAI,SAAA2J,GAAI,OAAInV,OAAOoV,4UAAP9C,IAC/B6C,EAAKrE,YACRE,WAAYmE,EAAKpE,SACjBG,KAAMiE,EAAKlE,QAUR,SAASoC,EAAWhU,GACzB,OAAOA,EACJiR,OAAO,SAACC,EAAMC,GAAP,OAAA6E,EAAoB,IAAIC,IAAI/E,EAAK/L,OAAOxE,OAAO6H,KAAK2I,WAC3DvE,OAAO,SAAAsJ,GAAG,OAA0B,IAAtBA,EAAIxN,QAAQ,QAGxB,SAASyN,EAAUnW,GACxB,IAAIiS,KACAI,EAAO,GAmBX,OAnDK,SAAmBrS,GAExB,MAAgB,sBADHoW,kBAAQpW,GAiCjBqW,CAAUrW,IA7BT,SAAoBA,GAEzB,MAAgB,aADHoW,kBAAQpW,GA+BVsW,CAAWtW,GAGXA,EAAKQ,QAAUR,EAAK8K,SAC7BuH,EAAO,MACPJ,EAAMjS,GACGA,EAAKQ,SACd6R,EAAO,OACPJ,EAAMjS,IAPNiS,EApBG,SAAuBsE,GAC5B,IAAMC,EAAa7V,OAAO6H,KAAK+N,EAASE,SAAS,GAEjD,OAAOZ,EADSa,IAAiBH,EAAUA,EAASE,QAAQD,KAkBpDG,CAAc3W,GACpBqS,EAAO,aAJPJ,EAAM4D,EAAa7V,GACnBqS,EAAO,WAYTJ,EAAInH,QAAUkJ,EAAW/B,GACzBA,EAAII,KAAOA,EAEJJ,EAGF,SAAS2E,EAAUlC,GACxB,IAAMmC,EAlED,SAAmBnC,GACxB,IAAIzC,GAAM,EAEV,IACEA,EAAMZ,KAAKmE,MAAMd,GACjB,MAAOkB,GACP3D,GAAM,EAER,OAAOA,EA0DU6E,CAAUpC,IAASX,EAASW,GAE7C,QAAKmC,IAMH7W,KAAMmW,EAAUU,GAChBxD,QAASqB,ukCC7Gb,IAAMqC,EAAehT,UAAOC,IAAVC,YAAAC,YAAA,gBAAGH,EAAH,8YAKC,SAAAI,GAAK,OAAIA,EAAM2F,MAAMyD,MAAMC,MAY3B,SAAArJ,GAAK,OAAIA,EAAM2F,MAAMyD,MAAMkD,MAK3B,SAAAtM,GAAK,OAAIA,EAAM2F,MAAMyD,MAAMkD,MAEjC,SAAAtM,GAAK,OAAIA,EAAM2F,MAAMC,OAAO0D,QAMnCuJ,sZAAkBrS,qGAWb,IAAAa,EACyBV,KAAKX,MAA7BnE,EADDwF,EACCxF,KAAM0K,EADPlF,EACOkF,cAERI,GAAW9K,EAAK8K,aAEnB8B,OAAO,SAAAsJ,GAAG,OAAIA,EAAIxN,SAAQ,KAAgBgC,EAAckK,KAAK,SAAAjB,GAAS,OAAIA,IAAcuC,MACxF/J,IAAI,SAAA+J,GAAG,OACN/G,OAAQ+G,EACRe,SAAUf,EACVgB,KAAM,SAAAxB,GAAG,OAAIrE,KAAKC,UAAUoE,EAAI5S,WAGpC,OACEqU,EAAA5S,EAAAC,cAACuS,EAAD,KACEI,EAAA5S,EAAAC,cAAC4S,EAAA,GACC9N,UAAU,WACVtJ,KAAMA,EACN8K,QAASA,EACTuM,gBAAgB,EAChBC,UAAU,EACVC,QAAS,EACTC,WAAW,wDAhCfR,eAEFhX,KAAMyX,IAAUC,QAAQD,IAAUlU,QAClCmH,cAAe+M,IAAUC,QAAQD,IAAUE,YAHzCX,kBAOFhX,QACA0K,mBA+BWsM,4gCCxEf,IAAMY,OAAeC,QAAOC,OAAV7T,YAAAC,YAAA,gBAAG2T,EAAH,uMAiBZE,sZAAeC,iGAaVC,GACPnT,KAAKX,MAAMiB,SAAS6S,EAAIxP,OAAO3F,wCAGxB,IAAA+B,EAAAC,KACP,OACEoT,EAAA3T,EAAAC,cAACoT,GACCxS,SAAU,SAAA6S,GAAG,OAAIpT,EAAKO,SAAS6S,IAC/BzM,SAAU1G,KAAKX,MAAMqH,SACrB1I,MAAOgC,KAAKX,MAAMrB,OAEa,IAA9BgC,KAAKX,MAAMkH,QAAQ7K,QAAgB0X,EAAA3T,EAAAC,cAAA,UAAQ1B,MAAM,UAAU0I,UAAQ,GAAE1G,KAAKX,MAAMoH,aAChFzG,KAAKX,MAAMkH,QAAQc,IAAI,SAAAgM,GAAG,OACzBD,EAAA3T,EAAAC,cAAA,UAAQ1B,MAAOqV,EAAK/U,IAAG,mBAAA+B,OAAqBgT,IAAQA,iBA1BxDJ,eAEF1M,QAASoM,IAAUC,QAAQD,IAAUE,QACrCvS,SAAUqS,IAAUW,KACpB7M,YAAakM,IAAUE,WAJrBI,kBAQF1M,WACAjG,SAAU,aACVmG,YAAa,cAuBFwM,2JClDTM,EAAmB,SAAAtQ,GAAK,OAAIA,EAAMtC,UAKlC6S,EAAuBC,aAJH,SAAAxQ,GAAK,OAAIA,EAAMlC,WAEhB,SAAAkC,GAAK,OAAIA,EAAMyC,WAItC,SAAC3E,EAAW2E,GACV,OAAK3E,GAAc2E,EAIZ2B,YAAItG,EAAW,SAAAzD,GAAC,OAAIA,EAAEoI,KAHpB2B,eAAQ,SAAA/J,GAAC,OAAIA,MAObuJ,EAAqB4M,aAC/BF,EAfqB,SAAAtQ,GAAK,OAAIA,EAAMwC,SAeD+N,GACpC,SAAC7S,EAAU8E,EAASiO,GAClB,IAAIvG,KAYJ,OAVIxM,IACFwM,EAAMxM,EAAS0G,IAAI,SAAC/J,GAClB,IAAMgB,EAAMhB,EAAEmI,GACRkO,EAAUD,EAAa9V,IAAIU,GACjC,OAAOzC,OAAOoV,UAAW3T,EAAGqW,MAIhCxG,EAAInH,QAAUkJ,YAAW/B,GAElBA,IAIE9E,EAAgBoL,aAC1BF,GACD,SAAA5S,GAAQ,OAAK,UAAW,YAAYkC,SAASlC,EAAS4M,kqBCzCxD,IAAA9I,EAAA5H,EAAA,GAEeoC,cAAO2U,OAAtBzU,YAAAC,YAAA,gBAAeH,EAAf,wKACgB,SAAAI,GAAK,OAAKA,EAAMqH,SAAWrH,EAAM2F,MAAMC,OAAOwG,oBAAsBpM,EAAM2F,MAAMC,OAAOuG,sdCAvG,IAAMqI,EAAW5U,UAAOC,IAAVC,YAAAC,YAAA,YAAGH,EAAH,4JAIG,SAAAI,GAAK,OAAIA,EAAM2F,MAAMyD,MAAMkD,OAWtCmI,EAAgB7U,UAAOuB,MAAVrB,YAAAC,YAAA,YAAGH,EAAH,mBAKJoE,EAAA,WAAAC,GAAA,IACblD,EADakD,EACblD,QAASE,EADIgD,EACJhD,SAAUE,EADN8C,EACM9C,MAAUuT,EADhBlQ,EAAAP,GAAA,sCAGb0Q,EAAAvU,EAAAC,cAACmU,EAAaE,EACZC,EAAAvU,EAAAC,cAAA,SACE6N,KAAK,WACLnN,QAASA,EACTE,SAAUA,IAEZ0T,EAAAvU,EAAAC,cAACoU,EAAD,KAAgBtT,s/BC7BpB,IAAMyT,EAAWhV,UAAOuJ,SAAVrJ,YAAAC,YAAA,YAAGH,EAAH,4GAURiV,EAAmBjV,UAAOC,IAAVC,YAAAC,YAAA,YAAGH,EAAH,6CACN,SAAAI,GAAK,OAAIA,EAAM2F,MAAMC,OAAOM,UAkB7B4O,sZAbetU,qGAE1B,OACE6J,EAAAjK,EAAAC,cAACwU,EAAD,KACExK,EAAAjK,EAAAC,cAACuU,GACCxN,YAAazG,KAAKX,MAAMoH,YACxBnG,SAAUN,KAAKX,MAAMiB,wvCCR/B,IAAM8T,EAAanV,kBAAOoV,KAAVlV,YAAAC,YAAA,gBAAGH,EAAH,mCACH,SAAAI,GAAK,OAAKA,EAAMgD,SAAW,EAAI,KACxB,SAAAhD,GAAK,OAAKA,EAAMgD,SAAW,MAAQ,SAGjDiS,EAAerV,kBAAOsV,KAAVpV,YAAAC,YAAA,gBAAGH,EAAH,mLAaE,SAAAI,GAAK,OAAIA,EAAM2F,MAAMC,OAAOM,UAK1CiP,EAAWvV,kBAAOwV,KAAVtV,YAAAC,YAAA,gBAAGH,EAAH,iKAIE,SAAAI,GAAK,OAAIA,EAAM2F,MAAMC,OAAOM,UAStCmP,EAAczV,UAAOC,IAAVC,YAAAC,YAAA,gBAAGH,EAAH,2LAaX0V,EAAmB1V,UAAOC,IAAVC,YAAAC,YAAA,gBAAGH,EAAH,oLAIN,SAAAI,GAAK,OAAIA,EAAM2F,MAAMC,OAAOuG,cAatCoJ,EAAW3V,UAAOC,IAAVC,YAAAC,YAAA,gBAAGH,EAAH,oCAKR4V,sZAAoBhV,mGAiBjBiV,GACL,IAAKA,EAAcpZ,OACjB,OAAOsE,KAAKX,MAAM0C,UAGpB/B,KAAK+U,SAASD,EAAc,oCAGtB3B,GACN,IAAM6B,EAAU7B,EAAIxP,OAAO3F,MACrBzB,EAASuV,YAAUkD,GAErBzY,GACFyD,KAAKX,MAAMiB,SAAX6N,KACK5R,GACH0F,SAAU,GACVsL,KAAM,qDAKC4F,GACXA,EAAI8B,iBACJjV,KAAKX,MAAMiB,SAAS,uCAGbsP,GAAM,IAAA7P,EAAAC,KACPkV,EAAS,IAAIC,WAEnBD,EAAOE,OAAS,WACd,IAAMJ,EAAUE,EAAO3Y,OACjBA,EAASuV,YAAUkD,GAErBzY,GACFwD,EAAKV,MAAMiB,SAAX6N,KACK5R,GACH0F,SAAU2N,EAAKrS,KACfgQ,KAAMqC,EAAKrC,SAKjB2H,EAAOG,WAAWzF,wCAGP,IAAAnP,EAAAT,KACX,OAAKA,KAAKX,MAAM4C,SAKdyH,EAAAjK,EAAAC,cAACgV,EAAD,KACEhL,EAAAjK,EAAAC,cAACiV,GAAiBnS,QAAS,SAAA2Q,GAAG,OAAI1S,EAAK6U,aAAanC,KAClDzJ,EAAAjK,EAAAC,cAAC6V,EAAA9V,GAAU+V,KAAM,MAEnB9L,EAAAjK,EAAAC,cAAC+V,EAAAhW,GAAS+V,KAAM,KAChB9L,EAAAjK,EAAAC,cAACkV,EAAD,KAAW5U,KAAKX,MAAM4C,WATjBjC,KAAKX,MAAM6C,0CAcb,IAAAwT,EAAA1V,KACP,OACE0J,EAAAjK,EAAAC,cAAC0U,GAAW/R,SAAUrC,KAAKX,MAAMgD,UAC/BqH,EAAAjK,EAAAC,cAAC4U,EAAD,KACE5K,EAAAjK,EAAAC,cAACiW,EAAA,EAAD,aACAjM,EAAAjK,EAAAC,cAACiW,EAAA,EAAD,sBAEFjM,EAAAjK,EAAAC,cAACiW,EAAA,EAAD,KACEjM,EAAAjK,EAAAC,cAAC8U,GACCoB,QAAS,WAAY,OAAQ,QAAS,aACtCC,OAAQ,SAAAf,GAAa,OAAIY,EAAKG,OAAOf,IACrCgB,UAAU,GAET9V,KAAK+V,eAGVrM,EAAAjK,EAAAC,cAACiW,EAAA,EAAD,KACEjM,EAAAjK,EAAAC,cAACsW,GACC1V,SAAU,SAAA6S,GAAG,OAAIuC,EAAKO,QAAQ9C,IAC9B1M,YAAazG,KAAKX,MAAM8C,mCAjG9B0S,eAEFvU,SAAUqS,IAAUW,KACpBvR,QAAS4Q,IAAUW,KACnBjR,SAAUsQ,IAAUuD,KACpBhU,SAAUyQ,IAAUE,OACpB1Q,oBAAqBwQ,IAAUE,WAN7BgC,kBAUFvU,SAAU,aACVyB,QAAS,aACTM,UAAU,EACVH,SAAU,iBACVC,oBAAqB,oBA2FV0S","file":"js/app.c9e5cd8e.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t0: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([171,1]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import React, { PureComponent } from 'react';\nimport { connect } from 'unistore/react';\nimport Styled from 'styled-components';\n\nimport SwapIcon from '../../../public/images/swap.svg';\nimport Actions from '~/state/Actions';\nimport FileHandler from '~/components/FileHandler';\nimport DataTable from '~/components/DataTable';\nimport Section from '~/components/Section';\nimport ButtonLight from '~/components/ButtonLight';\nimport Row from '~/components/Row';\nimport Column from '~/components/Column';\nimport ErrorMessage from '~/components/ErrorMessage';\nimport Checkbox from '~/components/Checkbox';\n\nconst ButtonWrapper = Styled.div`\n  display: ${props => (props.isVisible ? 'block' : 'none')};\n  width: 8%;\n\n  button {\n    width: 100%;\n  }\n`;\n\nconst step = 0;\n\nfunction renderError() {\n  return (\n    <ErrorMessage>\n      Please check if your data is valid json, csv, geojson or topojson.\n    </ErrorMessage>\n  );\n}\n\nclass FileChooserSection extends PureComponent {\n  renderCsvOptions(fileType) {\n    return (\n      <Checkbox\n        style={{ marginTop: '8px' }}\n        checked={this.props[`${fileType}FirstRowHeader`]}\n        onChange={() => this.props.toggleFirstRowHeader(fileType)}\n        label=\"First row is header\"\n      />\n    );\n  }\n\n  render() {\n    const {\n      baseData, baseFileName, baseDataError, baseFileType,\n      mergeData, mergeFileName, mergeDataError, mergeFileType\n    } = this.props;\n    const hasBaseData = !!baseData.length;\n    const hasMergeData = !!mergeData.length;\n\n    return (\n      <Section\n        step={step}\n        title={config.sections[step].title}\n        subtitle={config.sections[step].subtitle}\n      >\n        <Row>\n          <Column>\n            <FileHandler\n              onChange={this.props.setBaseData}\n              onError={() => this.props.setError('base')}\n              fileName={baseFileName}\n              dropText=\"Drop base file here\"\n              textareaPlaceholder=\"Paste base data here ...\"\n            />\n            {baseDataError && renderError()}\n          </Column>\n          <Column>\n            <FileHandler\n              onChange={this.props.setMergeData}\n              onError={() => this.props.setError('merge')}\n              fileName={mergeFileName}\n              dropText=\"Drop merge file here\"\n              textareaPlaceholder=\"Paste merge data here ...\"\n              isActive={hasBaseData}\n            />\n            {mergeDataError && renderError()}\n          </Column>\n        </Row>\n\n        <Row>\n          <Column style={{ textAlign: 'center' }}>\n            File 1\n          </Column>\n          <ButtonWrapper isVisible={(hasBaseData && hasMergeData)}>\n            <ButtonLight onClick={this.props.swapData}>\n              <SwapIcon height={16} />\n            </ButtonLight>\n          </ButtonWrapper>\n          <Column style={{ textAlign: 'center' }}>\n            File 2\n          </Column>\n        </Row>\n\n        <Row isVisible={(hasBaseData || hasMergeData)}>\n          <Column isVisible={hasBaseData}>\n            <DataTable data={this.props.baseData} />\n            {baseFileType.includes('csv') && this.renderCsvOptions('base')}\n          </Column>\n          <Column isVisible={hasMergeData} style={{ marginLeft: 'auto' }}>\n            <DataTable data={this.props.mergeData} />\n            {mergeFileType.includes('csv') && this.renderCsvOptions('merge')}\n          </Column>\n        </Row>\n      </Section>\n    );\n  }\n}\n\nexport default connect(state => ({\n  baseData: state.baseData,\n  baseFileName: state.baseFileName,\n  baseFileType: state.baseFileType,\n  baseDataError: state.baseDataError,\n  baseFirstRowHeader: state.baseFirstRowHeader,\n  mergeData: state.mergeData,\n  mergeFileName: state.mergeFileName,\n  mergeDataError: state.mergeDataError,\n  mergeFileType: state.mergeFileType,\n  mergeFirstRowHeader: state.mergeFirstRowHeader\n}), Actions)(FileChooserSection);\n","function _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nimport React from \"react\";\nexport default ((_ref) => {\n  let {\n    styles = {}\n  } = _ref,\n      props = _objectWithoutProperties(_ref, [\"styles\"]);\n\n  return <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={(styles[\"feather\"] || \"feather\") + \" \" + (styles[\"feather-repeat\"] || \"feather-repeat\")} {...props}><path d=\"M17 1l4 4-4 4\" /><path d=\"M3 11V9a4 4 0 0 1 4-4h14M7 23l-4-4 4-4\" /><path d=\"M21 13v2a4 4 0 0 1-4 4H3\" /></svg>;\n});","import Styled from 'styled-components';\nimport Button from '~/components/Button';\n\nexport default Styled(Button)`\n  background: white;\n`;\n","import React from 'react';\nimport Styled from 'styled-components';\n\nconst Wrapper = Styled.div`\n  background: ${props => props.theme.colors.warning};\n  padding: 12px;\n  color: white;\n  border-radius: 4px;\n  margin-top: 8px;\n  display: flex\n`;\n\nconst Inner = Styled.div`\n  margin-left: 10px;\n`;\n\nconst Title = Styled.div`\n  font-weight: 700;\n  margin-bottom: 5px;\n`;\n\nexport default props => (\n  <Wrapper>\n    <Inner>\n      <Title>An Error occured.</Title>\n      {props.children}\n    </Inner>\n  </Wrapper>\n);\n","import React, { PureComponent } from 'react';\nimport { connect } from 'unistore/react';\nimport idx from 'idx';\nimport Styled from 'styled-components';\n\nimport Actions from '~/state/Actions';\nimport Select from '~/components/Select';\nimport Section from '~/components/Section';\nimport Row from '~/components/Row';\nimport Column from '~/components/Column';\nimport DataTable from '~/components/DataTable';\nimport { mergedDataSelector } from '~/state/Selectors';\n\nconst SelectWrapper = Styled.div`\n  display: flex;\n  justify-content: center;\n  background: ${props => props.theme.colors.section};\n  padding: 16px;\n`;\n\nconst step = 1;\n\nclass KeySelectSection extends PureComponent {\n  render() {\n    const {\n      baseData, mergeData, baseKey, mergeKey,\n      resultData, excludeFields\n    } = this.props;\n    const baseKeys = idx(baseData, _ => _.columns) || [];\n    const mergeKeys = idx(mergeData, _ => _.columns) || [];\n    const isActive = baseData.length > 0;\n\n    return (\n      <Section\n        step={step}\n        title={config.sections[step].title}\n        subtitle={config.sections[step].subtitle}\n        isActive={isActive}\n      >\n        <Row>\n          <Column>\n            <SelectWrapper>\n              <Select\n                options={baseKeys}\n                onChange={this.props.setBaseKey}\n                placeholder=\"Select key...\"\n                disabled={!isActive}\n                value={baseKey || 'default'}\n              />\n            </SelectWrapper>\n          </Column>\n          <Column>\n            <SelectWrapper>\n              <Select\n                options={mergeKeys}\n                onChange={this.props.setMergeKey}\n                placeholder=\"Select key...\"\n                disabled={mergeData.length === 0}\n                value={mergeKey || 'default'}\n              />\n            </SelectWrapper>\n          </Column>\n        </Row>\n        {isActive && <DataTable data={resultData} excludeFields={excludeFields} />}\n      </Section>\n    );\n  }\n}\n\nexport default connect(state => ({\n  baseData: state.baseData,\n  mergeData: state.mergeData,\n  baseKey: state.baseKey,\n  mergeKey: state.mergeKey,\n  resultData: mergedDataSelector(state),\n  excludeFields: state.excludeFields\n}), Actions)(KeySelectSection);\n","import React, { PureComponent } from 'react';\nimport Styled from 'styled-components';\nimport { connect } from 'unistore/react';\n\nimport { mergedDataSelector, isBaseDataGeo } from '~/state/Selectors';\nimport { downloadFile } from '~/utils';\n\nimport Actions from '~/state/Actions';\n\nimport Section from '~/components/Section';\nimport Select from '~/components/Select';\nimport Button from '~/components/Button';\nimport Checkbox from '~/components/Checkbox';\nimport Preview from '~/components/Preview';\n\nconst DownloadWrapper = Styled.div`\n  display: flex;\n  flex-direction: column;\n`;\n\nconst DownloadButton = Styled(Button)`\n  width: 200px;\n`;\n\nconst DownloadButtonWrapper = Styled.div`\n  background: ${props => props.theme.colors.section};\n  padding: 16px;\n  margin-top: 16px;\n`;\n\nconst CheckboxWrapper = Styled.div`\n  background: ${props => props.theme.colors.section};\n  padding: 16px;\n  display: flex;\n  flex-wrap: wrap;\n  margin-bottom: 16px;\n`;\n\nconst step = 2;\n\nclass DownloadSection extends PureComponent {\n  renderCheckboxes() {\n    return (\n      <CheckboxWrapper>\n        {this.props.mergedData.columns.map(columnName => (\n          <Checkbox\n            key={`FieldSelect__${columnName}`}\n            checked={this.props.excludeFields.indexOf(columnName) === -1}\n            onChange={() => this.props.toggleExcludeField(columnName)}\n            label={columnName}\n          />\n        ))}\n      </CheckboxWrapper>\n    );\n  }\n\n  render() {\n    const {\n      baseData,\n      setDownloadFormat,\n      mergedData,\n      downloadFormat,\n      excludeFields,\n      baseIsGeo\n    } = this.props;\n\n    const hasData = !!this.props.mergedData.length;\n    const isActive = baseData.length > 0;\n    const formats = baseIsGeo ?\n      config.downloadFormats :\n      config.downloadFormats.filter(d => !['geojson', 'topojson'].includes(d));\n\n    return (\n      <Section\n        step={step}\n        title={config.sections[step].title}\n        subtitle={config.sections[step].subtitle}\n        isActive={isActive}\n      >\n        {hasData ? this.renderCheckboxes() : null}\n        <DownloadWrapper>\n          <Select\n            options={!isActive ? [] : formats}\n            placeholder=\"Select format...\"\n            onChange={setDownloadFormat}\n            disabled={!isActive}\n            value={downloadFormat || 'default'}\n          />\n          <Preview\n            data={mergedData}\n            isActive={isActive}\n            filetype={downloadFormat}\n            excludeFields={excludeFields}\n          />\n          <DownloadButtonWrapper>\n            <DownloadButton\n              disabled={!mergedData || !mergedData.length}\n              onClick={() => downloadFile(mergedData, downloadFormat, excludeFields)}\n            >\n              Download\n            </DownloadButton>\n          </DownloadButtonWrapper>\n        </DownloadWrapper>\n      </Section>\n    );\n  }\n}\n\nexport default connect(state => ({\n  baseData: state.baseData,\n  mergedData: mergedDataSelector(state),\n  downloadFormat: state.downloadFormat,\n  excludeFields: state.excludeFields,\n  baseIsGeo: isBaseDataGeo(state)\n}), Actions)(DownloadSection);\n","import React, { PureComponent } from 'react';\nimport Styled from 'styled-components';\n\nimport { getDownloadFileData } from '~/utils';\n\nconst PreviewWrapper = Styled.div`\n  padding: 16px 0;\n`;\n\nconst TextArea = Styled.textarea`\n  border: 1px solid ${props => props.theme.colors.section};\n  padding: 16px;\n  resize: vertical;\n  width: 100%;\n  min-height: 200px;\n  font-size: 14px;\n  font-family: ${props => props.theme.fonts.mono};\n  color: ${props => props.theme.colors.black};\n`;\n\nclass Preview extends PureComponent {\n  render() {\n    if (!this.props.isActive) {\n      return null;\n    }\n\n    const { data, filetype, excludeFields } = this.props;\n    const dataAsString = getDownloadFileData(data, filetype, excludeFields);\n\n    return (\n      <PreviewWrapper>\n        <TextArea value={dataAsString.data} readOnly />\n      </PreviewWrapper>\n    );\n  }\n}\n\nexport default Preview;\n","module.exports = __webpack_public_path__ + \"public/images/logo_big.png\";","import Styled from 'styled-components';\n\nconst Column = Styled.div`\n  display: ${props => (props.isVisible ? 'block' : 'none')};\n  width: 46%;\n`;\n\nColumn.defaultProps = {\n  isVisible: true\n};\n\nexport default Column;\n","import createStore from 'unistore';\n\nconst Store = createStore({\n  baseData: [],\n  mergeData: [],\n  baseKey: null,\n  mergeKey: null,\n  baseDataError: null,\n  mergeDataError: null,\n  baseFileType: '',\n  mergeFileType: '',\n  baseFirstRowHeader: true,\n  mergeFirstRowHeader: true,\n  downloadFormat: null,\n  excludeFields: []\n});\n\nexport default Store;\n","import React, { Fragment } from 'react';\nimport Styled from 'styled-components';\n\nconst Headline = Styled.div`\n  text-align: center;\n  margin-bottom: 50px;\n  `;\n\n\nconst Title = Styled.h1`\n  margin: 0;\n  font-weight: 400;\n  font-size: 60px;\n`;\n\nconst Bold = Styled.span`\n  font-weight: 900;\n`;\n\nconst Subtitle = Styled.div`\n  margin: 10px 0 20px 0;\n  font-family: ${props => props.theme.fonts.mono};\n`;\n\nexport default () => (\n  <Fragment>\n    <Headline>\n      <Title>(Geo) <Bold>DataMerger</Bold></Title>\n      <Subtitle>A small tool for merging datasets.</Subtitle>\n    </Headline>\n  </Fragment>\n);\n","import React, { PureComponent } from 'react';\nimport Styled from 'styled-components';\n\nconst FooterWrapper = Styled.div`\n  background: ${props => props.theme.colors.darkBackground};\n  padding: 32px 0;\n  color: white;\n`;\n\nconst FooterInner = Styled.div`\n  max-width: 960px;\n  margin: 0 auto;\n  padding: 0 16px;\n\n  a {\n    color: white;\n    text-decoration: none;\n\n    &:hover {\n      text-decoration: underline;\n    }\n  }\n`;\n\nclass Footer extends PureComponent {\n  render() {\n    return (\n      <FooterWrapper>\n        <FooterInner>\n          <a href=\"https://github.com/funkeinteraktiv\">Imprint / Privacy</a>\n        </FooterInner>\n      </FooterWrapper>\n    );\n  }\n}\n\nexport default Footer;\n","import React, { PureComponent } from 'react';\nimport Styled from 'styled-components';\n\nimport logoSrc from '../../../public/images/logo_big.png';\n\nconst HeaderWrapper = Styled.header`\n  padding: 8px 16px;\n`;\n\nconst Logo = Styled.img`\n  max-width: 100px;\n`;\n\nclass Header extends PureComponent {\n  render() {\n    return (\n      <HeaderWrapper>\n        <a href=\"https://twitter.com/funkeinteraktiv\">\n          <Logo src={logoSrc} alt=\"Funke Logo\" />\n        </a>\n      </HeaderWrapper>\n    );\n  }\n}\n\nexport default Header;\n","import React, { PureComponent, Fragment } from 'react';\nimport Styled from 'styled-components';\n\nimport Headline from '~/components/Headline';\nimport FileChooserSection from '~/sections/FileChooserSection';\nimport KeySelectSection from '~/sections/KeySelectSection';\nimport DownloadSection from '~/sections/DownloadSection';\nimport Footer from '~/components/Footer';\nimport Header from '~/components/Header';\n\nconst AppWrapper = Styled.div`\n  margin: 0 auto;\n  max-width: 960px;\n  padding: 32px 16px;\n`;\n\nclass App extends PureComponent {\n  render() {\n    return (\n      <Fragment>\n        <Header />\n        <AppWrapper>\n          <Headline />\n          <FileChooserSection />\n          <KeySelectSection />\n          <DownloadSection />\n        </AppWrapper>\n        <Footer />\n      </Fragment>\n    );\n  }\n}\n\nexport default App;\n","import styledNormalize from 'styled-normalize';\nimport { createGlobalStyle } from 'styled-components';\n\nexport default createGlobalStyle`\n  @import url('https://fonts.googleapis.com/css?family=Roboto+Mono|Roboto:400,700,900');\n\n  ${styledNormalize}\n\n  * {\n    box-sizing: border-box;\n  }\n\n  body {\n    padding: 0;\n    margin: 0;\n    position: relative;\n    font-family: 'Roboto', sans-serif;\n    background: ${props => props.theme.colors.background};\n    color: ${props => props.theme.colors.darkBackground};\n  }\n`;\n","import React, { Fragment } from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'unistore/react';\nimport { ThemeProvider } from 'styled-components';\n\nimport Store from '~/state/Store';\nimport App from '~/pages/App';\nimport GlobalStyles from '~/styles/Global';\nimport theme from '~/styles/theme';\n\nconst root = document.createElement('div');\n\nReactDOM.render(\n  <Provider store={Store}>\n    <ThemeProvider theme={theme}>\n      <Fragment>\n        <GlobalStyles />\n        <App />\n      </Fragment>\n    </ThemeProvider>\n  </Provider>,\n  root\n);\n\ndocument.body.appendChild(root);\n","export default {\n  colors: {\n    black: '#222',\n    // background: '#FFFCEA',\n    background: '#FFFFFF',\n    // section: '#EDE7D3',\n    section: '#EEEEEE',\n    // interaction: '#FFAE55',\n    interaction: '#5AFF78',\n    interactionInactive: '#ddd',\n    darkgray: '#888',\n    darkBackground: '#3D3D3D',\n    warning: '#dd8080'\n  },\n  fonts: {\n    sans: 'Roboto, sans-serif',\n    mono: 'Roboto Mono, monospace'\n  }\n};\n","import { saveAs } from 'file-saver';\nimport { feature, featureCollection } from '@turf/helpers';\nimport { topology } from 'topojson';\nimport { csvFormat } from 'd3-dsv';\n\nexport function removePropsFromObject(obj, props = []) {\n  return Object.keys(obj).reduce((prev, curr) => {\n    if (props.indexOf(curr) === -1) {\n      prev[curr] = obj[curr]; // eslint-disable-line\n    }\n\n    return prev;\n  }, {});\n}\n\nexport function stringifyJSON(data) {\n  return JSON.stringify(data);\n}\n\nexport function formatJSON(data) {\n  const res = data.map(d => removePropsFromObject(d, ['__geometry', '__id']));\n  return stringifyJSON(res);\n}\n\nexport function JSON2GeoJSON(data) {\n  const features = data.map((properties) => {\n    const geometry = properties.__geometry;\n    const options = { id: properties.__id };\n    const props = removePropsFromObject(properties, ['__geometry', '__id']);\n\n    return feature(geometry, props, options);\n  });\n\n  return featureCollection(features);\n}\n\nexport function formatGeoJSON(data) {\n  const geoJSON = JSON2GeoJSON(data);\n  return stringifyJSON(geoJSON);\n}\n\nexport function formatTopoJSON(data) {\n  const geoJSON = JSON2GeoJSON(data);\n  const topoJSON = topology({ data: geoJSON });\n  return stringifyJSON(topoJSON);\n}\n\nexport function formatCsv(data) {\n  const res = data.map(d => removePropsFromObject(d, ['__geometry', '__id']));\n  return csvFormat(res);\n}\n\nexport function cleanData(data, options = {}) {\n  let res = data;\n\n  if (options.excludeFields) {\n    res = res.map(d => removePropsFromObject(d, options.excludeFields));\n  }\n\n  return res;\n}\n\nexport function getDownloadFileData(data, filetype, excludeFields = []) {\n  const dataClean = cleanData(data, {\n    excludeFields\n  });\n\n  let downloadData = null;\n\n  if (filetype === 'geojson') {\n    downloadData = {\n      data: formatGeoJSON(dataClean),\n      type: 'text/json;charset=utf-8',\n      name: 'output.geojson'\n    };\n  }\n\n  if (filetype === 'topojson') {\n    downloadData = {\n      data: formatTopoJSON(dataClean),\n      type: 'text/json;charset=utf-8',\n      name: 'output.topo.json'\n    };\n  }\n\n  if (filetype === 'json') {\n    downloadData = {\n      data: formatJSON(dataClean),\n      type: 'text/json;charset=utf-8',\n      name: 'output.json'\n    };\n  }\n\n  if (filetype === 'csv') {\n    downloadData = {\n      data: formatCsv(dataClean),\n      type: 'text/csv;charset=utf-8',\n      name: 'output.csv'\n    };\n  }\n\n  return downloadData;\n}\n\nexport function downloadFile(data, filetype, excludeFields = []) {\n  const downloadData = getDownloadFileData(data, filetype, excludeFields);\n\n  if (downloadData) {\n    const dataBlob = new Blob([downloadData.data], { type: downloadData.type });\n    saveAs(dataBlob, downloadData.name);\n  }\n}\n\nexport default {\n  downloadFile\n};\n","export * from './import-utils';\nexport * from './export-utils';\n","/* eslint-disable */\nimport { parseCsv, getColumns } from '~/utils/import-utils';\n\nconst setBaseData = store => (state, fileData) => {\n  const data = setData('base', store, fileData);\n  const isDelete = fileData === null;\n\n  return {\n    ...data,\n    downloadFormat: isDelete ? null : fileData.data.type,\n  };\n}\n\nconst setMergeData = store => (state, fileData) => {\n  const data = setData('merge', store, fileData);\n\n  return data;\n}\n\n// helper function used by setBaseData and setMergeData actions\nconst setData = (key, store, fileData) => {\n  const isDelete = fileData === null;\n  const isValid = !isDelete && fileData.data && fileData.data.type;\n\n  if (!isValid && !isDelete) {\n    return setError(store)(store.getState(), key);\n  }\n\n  return {\n    [`${key}RawData`]: isDelete ? [] : fileData.rawData,\n    [`${key}Data`]: isDelete ? [] : fileData.data,\n    [`${key}Key`]: isDelete ? '' : fileData.data.columns[0],\n    [`${key}FileName`]: isDelete ? '' : fileData.fileName,\n    [`${key}FileType`]: isDelete ? '' : fileData.type\n  };\n}\n\nconst setError = store => (state, key) => {\n  window.setTimeout(() => {\n    store.setState({ [`${key}DataError`]: null })\n  }, 4500);\n\n  return {\n    [`${key}DataError`]: true\n  };\n}\n\nconst setBaseKey = (state, key) => {\n  return { baseKey: key };\n}\n\nconst setMergeKey = (state, key) => {\n  return { mergeKey: key };\n}\n\nconst setDownloadFormat = (state, downloadFormat) => {\n  return { downloadFormat };\n}\n\nconst swapData = (state) => {\n  return {\n    mergeData: state.baseData,\n    baseData: state.mergeData,\n    mergeRawData: state.baseRawData,\n    baseRawData: state.mergeRawData,\n    mergeKey: state.baseKey,\n    baseKey: state.mergeKey,\n    mergeFileName: state.baseFileName,\n    baseFileName: state.mergeFileName,\n    mergeFileType: state.baseFileType,\n    baseFileType: state.mergeFileType,\n  };\n}\n\nconst toggleExcludeField = (state, fieldName) => {\n  const index = state.excludeFields.indexOf(fieldName)\n\n  if (index === -1) {\n    return {\n      excludeFields: state.excludeFields.concat([fieldName])\n    };\n  }\n  return {\n    excludeFields: state.excludeFields.filter((d, i) => i !== index)\n  };\n}\n\nconst toggleFirstRowHeader = (state, fileType) => {\n  const isFirstRowHeader = !state[`${fileType}FirstRowHeader`];\n  const data = parseCsv(state[`${fileType}RawData`], isFirstRowHeader);\n\n  data.columns = getColumns(data);\n\n  return {\n    [`${fileType}Data`]: data,\n    [`${fileType}FirstRowHeader`]: isFirstRowHeader\n  };\n}\n\nexport default store => ({\n  setBaseData: setBaseData(store),\n  setMergeData: setMergeData(store),\n  setError: setError(store),\n  setBaseKey,\n  setMergeKey,\n  setDownloadFormat,\n  swapData,\n  toggleExcludeField,\n  toggleFirstRowHeader\n});\n","import React from 'react';\nimport Styled from 'styled-components';\n\nconst Section = Styled.div`\n  margin: 32px 0 16px 0;\n  padding: 15px 0;\n  border-top: 3px solid ${props => (props.isActive ? props.theme.colors.darkBackground : props.theme.colors.interactionInactive)};\n`;\n\nconst SectionTitleWrapper = Styled.div`\n  display: flex;\n  align-items: center;\n  margin-bottom: 10px;\n  opacity: ${props => (props.isActive ? 1 : 0.5)};\n`;\n\nconst Step = Styled.div`\n  background: ${props => (props.isActive ? props.theme.colors.interaction : props.theme.colors.interactionInactive)};\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 24px;\n  height: 24px;\n  line-height: 1;\n  margin-right: 16px;\n  border-radius: 50%;\n  font-weight: 700;\n`;\n\nconst Title = Styled.h2`\n  margin: 0;\n  font-size: 20px;\n`;\n\nconst Subtitle = Styled.div`\n  margin: 0 0 16px 0;\n  color: ${props => (props.isActive ? props.theme.colors.black : props.theme.colors.darkgray)};\n  font-size: 15px;\n  line-height: 1.3;\n`;\n\nexport default ({\n  title, subtitle, step, children, isActive = true\n}) => (\n  <Section isActive={isActive}>\n    <SectionTitleWrapper isActive={isActive}>\n      <Step isActive={isActive}>{step + 1}</Step>\n      <Title isActive={isActive}>{title}</Title>\n    </SectionTitleWrapper>\n    <Subtitle isActive={isActive} dangerouslySetInnerHTML={{ __html: subtitle }} />\n    {children}\n  </Section>\n);\n","import Styled from 'styled-components';\n\nconst Row = Styled.div`\n  display: ${props => (props.isVisible ? 'flex' : 'none')};\n  justify-content: space-between;\n  padding: 10px 0;\n`;\n\nRow.defaultProps = {\n  isVisible: true\n};\n\nexport default Row;\n","import * as D3Dsv from 'd3-dsv';\nimport * as TopoJSON from 'topojson';\nimport { getType } from '@turf/invariant';\n\nfunction regexEscape(str) {\n  return str.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, '\\\\$&');\n}\n\nfunction getDelimiterRxp(delim) {\n  const rxp = `^[^\\\\n\\\\r]+${regexEscape(delim)}`;\n  return new RegExp(rxp);\n}\n\nexport function guessDelimiter(file) {\n  return config.defaultDelimiters.find((delim) => {\n    const rxp = getDelimiterRxp(delim);\n    return rxp.test(file);\n  }) || ',';\n}\n\nexport function parseCsv(file, isFirstRowHeader = true) {\n  let res = false;\n\n  try {\n    const delimiter = guessDelimiter(file);\n    const formattedCsv = D3Dsv.dsvFormat(delimiter);\n\n    if (isFirstRowHeader) {\n      res = formattedCsv.parse(file);\n    } else {\n      res = formattedCsv.parseRows(file, d => d.reduce((row, item, i) => {\n        row[`column_${i + 1}`] = item;\n        return row;\n      }, {}));\n    }\n  } catch (e) {\n    res = false;\n  }\n  return res;\n}\n\nexport function parseJSON(file) {\n  let res = false;\n\n  try {\n    res = JSON.parse(file);\n  } catch (e) {\n    res = false;\n  }\n  return res;\n}\n\nexport function isGeoJSON(data) {\n  const type = getType(data);\n  return type === 'FeatureCollection';\n}\n\nexport function isTopoJSON(data) {\n  const type = getType(data);\n  return type === 'Topology';\n}\n\nexport function geoJSON2JSON(geoJSON) {\n  return geoJSON.features.map(feat => Object.assign({}, {\n    ...feat.properties,\n    __geometry: feat.geometry,\n    __id: feat.id\n  }));\n}\n\nexport function topoJSON2JSON(topoJSON) {\n  const objectName = Object.keys(topoJSON.objects)[0];\n  const geoJSON = TopoJSON.feature(topoJSON, topoJSON.objects[objectName]);\n  return geoJSON2JSON(geoJSON);\n}\n\nexport function getColumns(data) {\n  return data\n    .reduce((prev, curr) => [...new Set(prev.concat(Object.keys(curr)))], [])\n    .filter(col => col.indexOf('__') !== 0);\n}\n\nexport function unifyData(data) {\n  let res = [];\n  let type = '';\n\n  if (isGeoJSON(data)) {\n    res = geoJSON2JSON(data);\n    type = 'geojson';\n  } else if (isTopoJSON(data)) {\n    res = topoJSON2JSON(data);\n    type = 'topojson';\n  } else if (data.length && data.columns) {\n    type = 'csv';\n    res = data;\n  } else if (data.length) {\n    type = 'json';\n    res = data;\n  }\n\n  res.columns = getColumns(res);\n  res.type = type;\n\n  return res;\n}\n\nexport function parseFile(file) {\n  const jsonData = parseJSON(file) || parseCsv(file);\n\n  if (!jsonData) {\n    // file is not json or csv\n    return false;\n  }\n\n  return {\n    data: unifyData(jsonData),\n    rawData: file\n  };\n}\n\nexport default {\n  parseFile,\n  getColumns,\n  unifyData\n};\n","import React, { PureComponent } from 'react';\nimport ReactTable from 'react-table';\nimport PropTypes from 'prop-types';\nimport Styled from 'styled-components';\n\nimport 'react-table/react-table.css';\n\nconst TableWrapper = Styled.div`\n  position: relative;\n  background: transparent;\n\n  .ReactTable {\n    font-family: ${props => props.theme.fonts.mono};\n    height: 200px;\n  }\n\n  .ReactTable .rt-tbody {\n    overflow: unset;\n  }\n\n  .ReactTable .rt-thead .rt-th, .ReactTable .rt-thead .rt-td,\n  .ReactTable .rt-thead.-header {\n    box-shadow: none;\n    border-bottom: 1px solid #eee;\n    font-family: ${props => props.theme.fonts.sans};\n    font-weight: 700;\n  }\n\n  .ReactTable .rt-noData {\n    font-family: ${props => props.theme.fonts.sans};\n    text-align: center;\n    color: ${props => props.theme.colors.black};\n    background: transparent;\n    font-weight: 700;\n  }\n`;\n\nclass DataTable extends PureComponent {\n  static propTypes = {\n    data: PropTypes.arrayOf(PropTypes.object),\n    excludeFields: PropTypes.arrayOf(PropTypes.string)\n  }\n\n  static defaultProps = {\n    data: [],\n    excludeFields: []\n  }\n\n  render() {\n    const { data, excludeFields } = this.props;\n\n    const columns = (data.columns || [])\n      // don't show columns we created in the background, don't show excluded fields\n      .filter(col => col.indexOf('__' !== 0) && !excludeFields.find(fieldName => fieldName === col))\n      .map(col => ({\n        Header: col,\n        accessor: col,\n        Cell: row => JSON.stringify(row.value)\n      }));\n\n    return (\n      <TableWrapper>\n        <ReactTable\n          className=\"-striped\"\n          data={data}\n          columns={columns}\n          showPagination={false}\n          sortable={false}\n          minRows={0}\n          noDataText=\"↑ Please drop a file to see the result.\"\n        />\n      </TableWrapper>\n    );\n  }\n}\n\nexport default DataTable;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\n\nconst StyledSelect = styled.select`\n  cursor: pointer;\n  width: 200px;\n  padding: 0 .571em;\n  font-size: 14px;\n  background: #fff;\n  border: 1px solid #ccc;\n  border-bottom-color: #a3a3a3;\n  border-radius: 4px;\n  height: 35px;\n\n  &:disabled {\n    background: #eee;\n    color: #777;\n  }\n`;\n\nclass Select extends Component {\n  static propTypes = {\n    options: PropTypes.arrayOf(PropTypes.string),\n    onChange: PropTypes.func,\n    placeholder: PropTypes.string\n  }\n\n  static defaultProps = {\n    options: [],\n    onChange: () => {},\n    placeholder: 'Select...'\n  }\n\n  onChange(evt) {\n    this.props.onChange(evt.target.value);\n  }\n\n  render() {\n    return (\n      <StyledSelect\n        onChange={evt => this.onChange(evt)}\n        disabled={this.props.disabled}\n        value={this.props.value}\n      >\n        {this.props.options.length === 0 && <option value=\"default\" disabled>{this.props.placeholder}</option>}\n        {this.props.options.map(opt => (\n          <option value={opt} key={`Select__Option__${opt}`}>{opt}</option>\n        ))}\n      </StyledSelect>\n    );\n  }\n}\n\nexport default Select;\n","import { createSelector } from 'reselect';\nimport { map } from 'd3-collection';\nimport { getColumns } from '~/utils';\n\nconst baseDataSelector = state => state.baseData;\nconst mergeDataSelector = state => state.mergeData;\nconst baseKeySelector = state => state.baseKey;\nconst mergeKeySelector = state => state.mergeKey;\n\nconst mergeDataMapSelector = createSelector(\n  [mergeDataSelector, mergeKeySelector],\n  (mergeData, mergeKey) => {\n    if (!mergeData || !mergeKey) {\n      return map([], d => d);\n    }\n\n    return map(mergeData, d => d[mergeKey]);\n  }\n);\n\nexport const mergedDataSelector = createSelector(\n  [baseDataSelector, baseKeySelector, mergeDataMapSelector],\n  (baseData, baseKey, mergeDataMap) => {\n    let res = [];\n\n    if (baseData) {\n      res = baseData.map((d) => {\n        const key = d[baseKey];\n        const addData = mergeDataMap.get(key);\n        return Object.assign({}, d, addData);\n      });\n    }\n\n    res.columns = getColumns(res);\n\n    return res;\n  }\n);\n\nexport const isBaseDataGeo = createSelector(\n  [baseDataSelector],\n  baseData => ['geojson', 'topojson'].includes(baseData.type)\n);\n\nexport default {\n  mergedDataSelector,\n  isBaseDataGeo\n};\n","import Styled from 'styled-components';\n\nexport default Styled.button`\n  background: ${props => (props.disabled ? props.theme.colors.interactionInactive : props.theme.colors.interaction)};\n  padding: 8px 16px;\n  font-weight: 700;\n  border: none;\n  cursor: pointer;\n  border-radius: 4px;\n  border: 1px solid #ccc;\n  border-bottom-color: #a3a3a3;\n\n  &:hover {\n    opacity: 0.9;\n  }\n`;\n","import React from 'react';\nimport Styled from 'styled-components';\n\nconst Checkbox = Styled.div`\n  margin-bottom: 8px;\n  margin-right: 16px;\n  font-weight: 700;\n  font-family: ${props => props.theme.fonts.sans};\n  display: flex;\n  align-items: center;\n  line-height: 1;\n\n  input {\n    margin-right: 8px;\n    display: block:\n  }\n`;\n\nconst CheckboxLabel = Styled.label`\n  display: block;\n`;\n\n\nexport default ({\n  checked, onChange, label, ...rest\n}) => (\n  <Checkbox {...rest}>\n    <input\n      type=\"checkbox\"\n      checked={checked}\n      onChange={onChange}\n    />\n    <CheckboxLabel>{label}</CheckboxLabel>\n  </Checkbox>\n);\n","import React, { PureComponent } from 'react';\nimport Styled from 'styled-components';\n\nconst Textarea = Styled.textarea`\n  width: 100%;\n  resize: none;\n  padding: 16px;\n  border: 1px solid #eee;\n  resize: vertical;\n  min-height: 150px;\n  height: 100%;\n`;\n\nconst CopyPasteWrapper = Styled.div`\n  background: ${props => props.theme.colors.section};\n  padding: 16px;\n  height: 200px;\n`;\n\nclass CopyPasteTarget extends PureComponent {\n  render() {\n    return (\n      <CopyPasteWrapper>\n        <Textarea\n          placeholder={this.props.placeholder}\n          onChange={this.props.onChange}\n        />\n      </CopyPasteWrapper>\n    );\n  }\n}\n\nexport default CopyPasteTarget;\n","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport Styled from 'styled-components';\nimport {\n  Tab,\n  Tabs,\n  TabList,\n  TabPanel\n} from 'react-tabs';\nimport ReactDropzone from 'react-dropzone';\n\nimport FileIcon from 'react-feather/dist/icons/file';\nimport CloseIcon from 'react-feather/dist/icons/x';\n\nimport { parseFile } from '~/utils';\nimport CopyPasteTarget from './CopyPasteTarget';\n\nconst StyledTabs = Styled(Tabs)`\n  opacity: ${props => (props.isActive ? 1 : 0.25)};\n  pointer-events: ${props => (props.isActive ? 'all' : 'none')};\n`;\n\nconst TabContainer = Styled(TabList)`\n  list-style: none;\n  margin: 0;\n  padding: 0;\n  display: flex;\n\n  > .react-tabs__tab {\n    padding: 8px 16px;\n    background: transparent;\n    cursor: pointer;\n    font-weight: 700;\n\n    &:hover, &--selected {\n      background: ${props => props.theme.colors.section};\n    }\n  }\n`;\n\nconst Dropzone = Styled(ReactDropzone)`\n  width: 100%;\n  height: 200px;\n  border-radius: 5px;\n  background: ${props => props.theme.colors.section};\n  padding: 16px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-weight: 700;\n  overflow: hidden;\n`;\n\nconst FileWrapper = Styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  background: white;\n  padding: 16px;\n  width: 200px;\n  border: 1px solid #ccc;\n  border-bottom-color: #a3a3a3;\n  border-radius: 4px;\n  position: relative;\n`;\n\nconst CloseIconWrapper = Styled.div`\n  position: absolute;\n  right: -10px;\n  top: -10px;\n  background: ${props => props.theme.colors.interaction};\n  border-radius: 50%;\n  padding: 5px;\n  display: flex;\n  jusitfy-content: center;\n  align-items: center;\n  cursor: pointer;\n\n  &:hover {\n    opacity: 0.8;\n  }\n`;\n\nconst FileName = Styled.div`\n  font-size: 14px;\n  margin-top: 10px;\n`;\n\nclass FileHandler extends PureComponent {\n  static propTypes = {\n    onChange: PropTypes.func,\n    onError: PropTypes.func,\n    isActive: PropTypes.bool,\n    dropText: PropTypes.string,\n    textareaPlaceholder: PropTypes.string\n  }\n\n  static defaultProps = {\n    onChange: () => {},\n    onError: () => {},\n    isActive: true,\n    dropText: 'Drop file here',\n    textareaPlaceholder: 'Paste data here'\n  }\n\n  onDrop(acceptedFiles) {\n    if (!acceptedFiles.length) {\n      return this.props.onError();\n    }\n\n    this.readFile(acceptedFiles[0]);\n  }\n\n  onPaste(evt) {\n    const content = evt.target.value;\n    const result = parseFile(content);\n\n    if (result) {\n      this.props.onChange({\n        ...result,\n        fileName: '',\n        type: 'copy-paste'\n      });\n    }\n  }\n\n  onDeleteFile(evt) {\n    evt.preventDefault();\n    this.props.onChange(null);\n  }\n\n  readFile(file) {\n    const reader = new FileReader();\n\n    reader.onload = () => {\n      const content = reader.result;\n      const result = parseFile(content);\n\n      if (result) {\n        this.props.onChange({\n          ...result,\n          fileName: file.name,\n          type: file.type\n        });\n      }\n    };\n\n    reader.readAsText(file);\n  }\n\n  renderFile() {\n    if (!this.props.fileName) {\n      return this.props.dropText;\n    }\n\n    return (\n      <FileWrapper>\n        <CloseIconWrapper onClick={evt => this.onDeleteFile(evt)}>\n          <CloseIcon size={20} />\n        </CloseIconWrapper>\n        <FileIcon size={48} />\n        <FileName>{this.props.fileName}</FileName>\n      </FileWrapper>\n    );\n  }\n\n  render() {\n    return (\n      <StyledTabs isActive={this.props.isActive}>\n        <TabContainer>\n          <Tab>File</Tab>\n          <Tab>Copy & Paste</Tab>\n        </TabContainer>\n        <TabPanel>\n          <Dropzone\n            accept={['.geojson', '.csv', '.json', '.topojson']}\n            onDrop={acceptedFiles => this.onDrop(acceptedFiles)}\n            multiple={false}\n          >\n            {this.renderFile()}\n          </Dropzone>\n        </TabPanel>\n        <TabPanel>\n          <CopyPasteTarget\n            onChange={evt => this.onPaste(evt)}\n            placeholder={this.props.textareaPlaceholder}\n          />\n        </TabPanel>\n      </StyledTabs>\n    );\n  }\n}\n\nexport default FileHandler;\n"],"sourceRoot":""}